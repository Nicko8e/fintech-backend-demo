const express = require("express");
const data = require('./data');

server = express();
server.use(express.json());

router = express.Router();

router.get("/user/all", (request, response) => {
    let user = data.get_all_users;
    response.send(users)
})

router.get("/", (request,response) =>{
    response.send("Welcome to Dev Toolkit #2!");
})

router.get("/sum", (request,response) => {
    let x = parseFloat(request.query.x);
    let y = parseFloat(request.query.y);
    let sum = x + y;

    response.send("Sum is: " + sum);
})

router.post("/create", (request,response) => {
    let name = request.body.name;
    let phone = request.body.phone;
    let age = request.body.age;

    console.log("Name: " + name);
    console.log("Phone: " + phone);
    console.log("Age: " + age);
})
server.use(router);

server.listen(3000,(errors) => {
    if (errors) {
        console.log("Server couldn't start. Error: " + errors);
    }
    else {
        console.log("Server started on port 3000");
    }
})
